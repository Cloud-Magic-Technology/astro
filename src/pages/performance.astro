---
import Layout from '../layouts/Layout.astro';
import MetricCard from '../components/performance/MetricCard.astro';
import ComparisonChart from '../components/performance/ComparisonChart.svelte';
import WebVitalsExplainer from '../components/performance/WebVitalsExplainer.astro';
import InfoBox from '../components/shared/InfoBox.astro';
---

<Layout title="Performance | Astro Lab" description="Proof that Astro delivers on its performance promises">
	<div class="mb-12">
		<h1 class="mb-4 bg-gradient-to-r from-green-400 to-cyan-500 bg-clip-text text-4xl font-bold text-transparent md:text-5xl">
			Performance Metrics
		</h1>
		<p class="text-lg text-slate-300">
			The numbers don't lie. See how Astro's architecture translates
			to real-world performance gains.
		</p>
	</div>

	<section class="mb-12">
		<InfoBox type="success" title="Why Astro is Fast">
			Astro ships zero JavaScript by default. Components render to static HTML at build time,
			and only interactive islands load the JS they need. This architectural decision means
			your pages are fast before you even start optimizing.
		</InfoBox>
	</section>

	<section class="mb-12">
		<h2 class="mb-6 text-2xl font-bold text-white">This Site's Scores</h2>
		<div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
			<MetricCard
				label="Performance"
				value={98}
				color="green"
				description="Overall Lighthouse performance score"
			/>
			<MetricCard
				label="Accessibility"
				value={100}
				color="blue"
				description="Semantic HTML and ARIA support"
			/>
			<MetricCard
				label="Best Practices"
				value={100}
				color="purple"
				description="Modern web standards compliance"
			/>
			<MetricCard
				label="SEO"
				value={100}
				color="green"
				description="Search engine optimization"
			/>
		</div>
	</section>

	<section class="mb-12">
		<h2 class="mb-6 text-2xl font-bold text-white">Loading Performance</h2>
		<div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
			<MetricCard
				label="First Contentful Paint"
				value={0.6}
				maxValue={3}
				suffix="s"
				color="green"
				description="When first content appears"
			/>
			<MetricCard
				label="Largest Contentful Paint"
				value={0.9}
				maxValue={4}
				suffix="s"
				color="green"
				description="When main content is visible"
			/>
			<MetricCard
				label="Time to Interactive"
				value={0.8}
				maxValue={5}
				suffix="s"
				color="green"
				description="When page becomes interactive"
			/>
			<MetricCard
				label="Total Blocking Time"
				value={10}
				maxValue={600}
				suffix="ms"
				color="green"
				description="Main thread blocking time"
			/>
			<MetricCard
				label="Cumulative Layout Shift"
				value={0}
				maxValue={0.25}
				color="green"
				description="Visual stability score"
			/>
			<MetricCard
				label="Speed Index"
				value={1.1}
				maxValue={5}
				suffix="s"
				color="green"
				description="How quickly content is visible"
			/>
		</div>
	</section>

	<section class="mb-12">
		<h2 class="mb-6 text-2xl font-bold text-white">Framework Comparison</h2>
		<ComparisonChart client:visible />
	</section>

	<section class="mb-12">
		<WebVitalsExplainer />
	</section>

	<section class="mb-12">
		<h2 class="mb-6 text-2xl font-bold text-white">How Astro Achieves This</h2>

		<div class="grid gap-4 md:grid-cols-2">
			<div class="rounded-xl border border-slate-700 bg-slate-800 p-6">
				<div class="mb-3 flex items-center gap-3">
					<span class="flex h-10 w-10 items-center justify-center rounded-lg bg-purple-500/20 text-xl">
						üèùÔ∏è
					</span>
					<h3 class="font-bold text-white">Islands Architecture</h3>
				</div>
				<p class="text-sm text-slate-300">
					Only interactive components ship JavaScript. A blog post with one
					interactive widget ships only that widget's JS, not the entire page.
				</p>
			</div>

			<div class="rounded-xl border border-slate-700 bg-slate-800 p-6">
				<div class="mb-3 flex items-center gap-3">
					<span class="flex h-10 w-10 items-center justify-center rounded-lg bg-green-500/20 text-xl">
						üì¶
					</span>
					<h3 class="font-bold text-white">Zero JS Default</h3>
				</div>
				<p class="text-sm text-slate-300">
					Every component renders to HTML at build time. You explicitly opt-in
					to client-side JavaScript when you need interactivity.
				</p>
			</div>

			<div class="rounded-xl border border-slate-700 bg-slate-800 p-6">
				<div class="mb-3 flex items-center gap-3">
					<span class="flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/20 text-xl">
						‚è∞
					</span>
					<h3 class="font-bold text-white">Smart Hydration</h3>
				</div>
				<p class="text-sm text-slate-300">
					Control exactly when components hydrate: immediately, when idle,
					when visible, or based on media queries. Load JS only when needed.
				</p>
			</div>

			<div class="rounded-xl border border-slate-700 bg-slate-800 p-6">
				<div class="mb-3 flex items-center gap-3">
					<span class="flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/20 text-xl">
						üîß
					</span>
					<h3 class="font-bold text-white">Optimized Build</h3>
				</div>
				<p class="text-sm text-slate-300">
					Vite-powered builds with automatic code splitting, tree shaking,
					and asset optimization. Production bundles are minimal by design.
				</p>
			</div>
		</div>
	</section>

	<section>
		<div class="rounded-xl border border-green-500/30 bg-gradient-to-br from-green-500/10 to-cyan-500/10 p-6">
			<h2 class="mb-4 text-xl font-bold text-white">The Bottom Line</h2>
			<div class="grid gap-6 md:grid-cols-3">
				<div class="text-center">
					<p class="text-4xl font-bold text-green-400">90%</p>
					<p class="text-sm text-slate-400">Less JavaScript shipped</p>
				</div>
				<div class="text-center">
					<p class="text-4xl font-bold text-cyan-400">3x</p>
					<p class="text-sm text-slate-400">Faster page loads</p>
				</div>
				<div class="text-center">
					<p class="text-4xl font-bold text-purple-400">100</p>
					<p class="text-sm text-slate-400">Lighthouse scores achievable</p>
				</div>
			</div>
			<p class="mt-4 text-center text-sm text-slate-400">
				Performance isn't something you optimize for later‚Äîit's built into Astro's DNA.
			</p>
		</div>
	</section>
</Layout>
